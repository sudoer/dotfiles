start-server

#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

# use CTRL-A for the command key
set-option -g prefix C-a
unbind C-b
bind C-a send-prefix

# same thing, different syntax
#set-option -g prefix C-a
#unbind-key C-b
#bind-key C-a send-prefix

#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

# COLORS

# to get 256 colors to work on Linux
set-option -g default-terminal "xterm-256color"

#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

# -- SESSION --

# session key bindings
#   $ = rename session
#   s = select from a menu of sessions

# -- WINDOWS --

set-option -g base-index 1

# window key bindings
#   , = rename window

# -- PANES --

set-window-option -g pane-base-index 1

# window pane borders
set-option -g pane-active-border-fg green
set-option -g pane-active-border-bg black
set-option -g pane-border-fg white
set-option -g pane-border-bg black

# pane key bindings
#

#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

# STATUS BAR

set-option -g status on
set-option -g status-utf8 on
set-option -g status-left-length 30
set-option -g status-left '#[fg=yellow,bright]#h#[fg=black,dim]:#[fg=cyan,bright]#S #[default]'
set-option -g status-right '#[fg=green,bright]%Y-%m-%d #[fg=white,bright]%l:%M%P#[default] '

# status bar - defaults
## set-option -g status-bg colour238
## set-option -g status-fg white
set-option -g status-bg colour238
set-option -g status-fg white
#set-option -g status-attr dim

# status bar - alerts
## set-window-option -g window-status-alert-attr default
## set-window-option -g window-status-alert-fg yellow

# status bar - messages
set-option -g message-bg black #base02
set-option -g message-fg brightred #orange


# status bar - non-current windows
set-window-option -g window-status-fg black
set-window-option -g window-status-bg colour244
set-window-option -g window-status-format "[#I#F#W]"
set-window-option -g window-status-attr dim

# status bar - current window
set-window-option -g window-status-current-fg black
set-window-option -g window-status-current-bg colour184
set-window-option -g window-status-current-format "[#I#F#W]"
set-window-option -g window-status-current-attr none

# status bar - set text for current window tab (ctrl-A ,)
# printf '\033kNAMEHERE\033\\'

#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

# TITLES - shown in terminal tab

set-option -g set-titles on

## set-option -g set-titles-string '#H:#S.#I.#P #W #T' # window number,program name,active (or not)
set-option -g set-titles-string '#I : #T' #  #T = current pane title (set by bash_prompt)

# window name shows current task - turn off
set-window-option -g automatic-rename off

#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

# NAVIGATION

# Smart pane switching with awareness of vim splits
# see https://github.com/christoomey/vim-tmux-navigator
#bind -n C-h run "(tmux display-message -p '#{pane_current_command}' | grep -iqE '(^|\/)vim(diff)?$' && tmux send-keys C-h) || tmux select-pane -L"
#bind -n C-j run "(tmux display-message -p '#{pane_current_command}' | grep -iqE '(^|\/)vim(diff)?$' && tmux send-keys C-j) || tmux select-pane -D"
#bind -n C-k run "(tmux display-message -p '#{pane_current_command}' | grep -iqE '(^|\/)vim(diff)?$' && tmux send-keys C-k) || tmux select-pane -U"
#bind -n C-l run "(tmux display-message -p '#{pane_current_command}' | grep -iqE '(^|\/)vim(diff)?$' && tmux send-keys C-l) || tmux select-pane -R"
## bind -n C-\ run "(tmux display-message -p '#{pane_current_command}' | grep -iqE '(^|\/)vim(diff)?$' && tmux send-keys 'C-\\') || tmux select-pane -l"

#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

# MOUSE

set-window-option -g mode-mouse off
set-option -g mouse-resize-pane off
set-option -g mouse-select-pane off # interferes with cut/paste
set-option -g mouse-select-window off
bind M set-option -g mode-mouse on \; set-option -g mouse-resize-pane on \; set-option -g mouse-select-pane on \; set-option -g mouse-select-window on \; display 'Mouse: ON'
bind m set-option -g mode-mouse off \; set-option -g mouse-resize-pane off \; set-option -g mouse-select-pane off \; set-option -g mouse-select-window off \; display 'Mouse: OFF'

#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

# HIDING STUFF

# screen blank/lock
set-option -g lock-server on
set-option -g lock-after-time 0
set-option -g lock-command '/usr/bin/vlock'
bind L lock-server

# clock (screen saver)
bind-key F12 clock-mode
set-window-option -g clock-mode-style 12

#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

# NICE SHORTCUTS / BINDINGS

# CTRL-A + r reloads the configuration, handy
bind r source-file ~/.tmux.conf \; display 'sourced ~/.tmux.conf'

# splits
bind | split-window -h
bind _ split-window -v

# zoom a pane into its own window (and unzoom)
unbind +
unbind -
bind + new-window -d -n tmux-zoom 'clear && echo TMUX ZOOM && read' \; swap-pane -s tmux-zoom.0 \; select-window -t tmux-zoom
bind - last-window \; swap-pane -s tmux-zoom.0 \; kill-window -t tmux-zoom

#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

# other global settings
set-window-option -g utf8 on
set-window-option -g mode-keys vi
set-option -g default-command "exec /bin/bash"
set-option -g history-limit 10000

# visual notification of activity in other windows
set-window-option -g monitor-activity on
set-option -g visual-activity on

#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

# MISCELLANEOUS TWEAKS / FIXES

# eliminate ESCAPE delay (see http://www.muddygoat.org/articles/vim-in-tmux)
set-option -sg escape-time 0

# pass PgUp & PgDown using xterm-style key sequences (for vim)
set-window-option -g xterm-keys on

#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

